{"version":3,"sources":["Main.js","pages/footer.js","pages/header.js"],"names":["socket","io","transport","Main","useLocation","useHistory","useState","postData","setPostData","getUserReducer","useSelector","state","newPost","setNewPost","title","setTitle","described","setDescribed","space","setSpace","spaceId","setSpaceId","file","setFile","postDele","setPostDele","term","setTerm","liked","setLiked","unLiked","setUnliked","newComment","setNewComment","delId","setDelId","searchValue","setSearchValue","pages","setPages","current","setCurrent","listPages","setListPages","postTop","setPostTop","checkShow","setCheckShow","useEffect","on","data","console","log","imgVideo","like","comment","author","id","getSpace","then","res","catch","err","alert","getAllPost","arrPages","i","push","a","getPostTop","length","submitBtn","FormData","append","name","User","_id","newPOst","emit","toPages","getPostByPage","Number","max","class","onChange","e","target","value","type","placeholder","event","onClick","searchByTitle","window","location","reload","searchByAuthor","map","item","index","files","size","onclick","href","to","style","marginTop","Date","created","toDateString","toLocaleTimeString","width","height","fill","stroke","viewBox","xmlns","stroke-linecap","stroke-linejoin","stroke-width","d","Footer","action","required","cols","rows","React","Component","Header","src","alt","for","localStorage","clear"],"mappings":"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","file":"static/js/4.e31b9ce4.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { deletePost, getAllPost, getSpace, newPOst, getPostBySpace, getPostByPage, searchByTitle, searchByAuthor, getPostTop } from './axios'\r\nimport io from 'socket.io-client'\r\nimport Footer from './pages/footer'\r\nimport Header from './pages/header'\r\nimport './css/homscreen.css'\r\n\r\nconst socket = io('http://localhost:8797', { transport: ['websocket'] })\r\n\r\nexport default function Main() {\r\n    let location = useLocation()\r\n    const history = useHistory()\r\n    const profileBtn = () => {\r\n        history.push('/userprofile')\r\n    }\r\n    //const [currentPost, setCurrentPost] = useState([])\r\n    const [postData, setPostData] = useState([])\r\n    const getUserReducer = useSelector(state => state.getUserReducer)\r\n    const [newPost, setNewPost] = useState()\r\n    const [title, setTitle] = useState()\r\n    const [described, setDescribed] = useState()\r\n    //const [author, setAuthor] = useState()\r\n    const [space, setSpace] = useState([])\r\n    const [spaceId, setSpaceId] = useState()\r\n    const [file, setFile] = useState()\r\n    const [postDele, setPostDele] = useState('alo')\r\n    const [term, setTerm] = useState()\r\n    const [liked, setLiked] = useState()\r\n    const [unLiked, setUnliked] = useState()\r\n    const [newComment, setNewComment] = useState()\r\n    const [delId, setDelId] = useState()\r\n    const [searchValue, setSearchValue] = useState('everything')\r\n    const [pages, setPages] = useState('')\r\n    const [current, setCurrent] = useState('')\r\n    const [listPages, setListPages] = useState([])\r\n    const [postTop, setPostTop] = useState({})\r\n    const [checkShow, setCheckShow] = useState(false)\r\n    useEffect(() => {\r\n        socket.on(\"getPost\", data => {\r\n            console.log(data);\r\n            setNewPost({\r\n                title: data.title,\r\n                imgVideo: data.imgVideo,\r\n                described: data.described,\r\n                like: data.like,\r\n                comment: data.comment,\r\n                author: data.author,\r\n                space: data.space\r\n            })\r\n        })\r\n        socket.on('like', (id) => {\r\n            console.log(id);\r\n            setLiked(id)\r\n        })\r\n        socket.on('unLikePost', (id) => {\r\n            setUnliked(id)\r\n        })\r\n        socket.on('delete', (id) => {\r\n            console.log(id);\r\n            setPostDele(id)\r\n        })\r\n        socket.on('addComment', data => {\r\n            console.log(data);\r\n            setNewComment(data)\r\n        })\r\n        socket.on('delComment', (id) => {\r\n            setDelId(id)\r\n        })\r\n    }, [])\r\n    useEffect(() => {\r\n        setUnliked('')\r\n        setLiked('')\r\n        setNewComment('')\r\n        setDelId('')\r\n    }, [postData])\r\n    useEffect(() => {\r\n        getSpace().then(res => {\r\n            setSpace(res.data)\r\n        }).catch(err => alert(err))\r\n    }, [])\r\n    useEffect(() => {\r\n        getAllPost().then(res => {\r\n            console.log(res.data);\r\n            setPostData(res.data.data)\r\n            setPages(res.data.pages)\r\n            setCurrent(res.data.current)\r\n            let arrPages = []\r\n            for(let i = 1; i <= 3 && i <= res.data.pages;i++){\r\n                arrPages.push(i)\r\n            }\r\n            setListPages(arrPages)\r\n\r\n        })\r\n    }, [newPost, postDele, liked, unLiked, newComment, delId])\r\n    useEffect( async ()=> {\r\n        await getPostTop().then(res => {\r\n            console.log(res.data[0]?.comment.length);\r\n            let a = {}\r\n            a = res.data[0]\r\n            for(let i = 1; i < res.data.length; i++){\r\n                if(a.comment.length < res.data[i].comment.length){\r\n                    a = res.data[i]\r\n                }\r\n            }\r\n            setPostTop(a)\r\n        })\r\n    },[])\r\n\r\n    const deletePostBtn = async (item, index) => {\r\n        let id = item._id\r\n        console.log(id);\r\n        await deletePost(item._id).then(res => {\r\n            console.log(\"Da xoa\");\r\n            socket.emit('deletePost', id)\r\n\r\n        })\r\n        socket.emit('deletePost', id)\r\n\r\n    }\r\n\r\n    //console.log(socket);\r\n    const submitBtn = async () => {\r\n        let data = new FormData()\r\n        data.append('title', title)\r\n        if (file) {\r\n            data.append('imgVideo', file, file.name)\r\n        }\r\n        data.append('described', described)\r\n        data.append('like', '')\r\n        data.append('comment', '')\r\n        data.append('space', spaceId)\r\n        data.append('author', getUserReducer.User._id)\r\n        await newPOst(data).then((res) => {\r\n            console.log('hola');\r\n            setTitle('')\r\n            setDescribed('')\r\n            setCheckShow(false)\r\n        })\r\n        socket.emit('newPost', {\r\n            data\r\n        })\r\n    }\r\n    const handleChangeTitle = (event) => {\r\n        setTitle(event.target.value)\r\n    }\r\n    const handleChangeDescribed = (event) => {\r\n        setDescribed(event.target.value)\r\n    }\r\n    const handleChangeSpaceId = (event) => {\r\n        setSpaceId(event.target.value)\r\n    }\r\n    const goToAminPage = () => {\r\n        history.push('/admin')\r\n    }\r\n    // const handleChangeFile = (event) => {\r\n    //     setFile(event.target.files[0])\r\n    // }\r\n    const handleChangeTerm = (event) => {\r\n        setTerm(event.target.value)\r\n    }\r\n\r\n\r\n    const searchPostByTitle = () => {\r\n        if(term){\r\n        searchByTitle(term).then(res => {\r\n            console.log(res.data);\r\n            setPostData(res.data.data)\r\n            setPages('')\r\n        })} else {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    const searchPostByAuthor = () => {\r\n        if(term){\r\n        searchByAuthor(term).then(res => {\r\n            console.log(res.data);\r\n            setPostData(res.data.data)\r\n            setPages('')\r\n        })} else {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n\r\n    const handleChangeFile = (event) => {\r\n\r\n        //const  getSize = \r\n        if (event.target.files[0].size > 40000000) {\r\n            alert('Max size is 40mb')\r\n            setFile('')\r\n        } else {\r\n            setFile(event.target.files[0])\r\n        }\r\n    }\r\n\r\n    const renderSpace = (item, index) => {\r\n        return (\r\n            <a href={\"/main/spaces/\"+item._id}>\r\n              {item.name}\r\n            </a>\r\n        )\r\n    }\r\n\r\n    const handleChangeSearchValue = (e) => {\r\n        if (e.target.value == \"everything\"){\r\n            setSearchValue('')\r\n        }\r\n        setSearchValue(e.target.value)\r\n        console.log(searchValue);\r\n    }\r\n\r\n\r\n    const renderPost = (item, index) => {\r\n        return (\r\n            <div class=\"subforum-row\">\r\n                <div class=\"subforum-icon subforum-column center\">\r\n                    <i class=\"fa fa-car\"></i>\r\n                </div>\r\n\r\n                <div class=\"subforum-description subforum-column\">\r\n                    <h1><a href=\"#\"><Link to={'/post/' + item._id}>{item.title}</Link></a></h1>\r\n                    <h2>Description content:</h2>\r\n                    <p>{item.described}</p>\r\n                </div>\r\n\r\n                <div class=\"subforum-stats subforum-column center\">\r\n                    <span>{item.like?.length} Like | {item.comment?.length} Comment</span>\r\n                </div>\r\n\r\n                <div class=\"subforum-info subforum-column\">\r\n                    <b><a href=\"\">Last Post</a></b> by <a href=\"\">{item.comment?.length != 0 ? item.comment[0]?.author?.name : item.author?.name} </a>\r\n                  \r\n                    on\r\n                    <small >\r\n                        <p style={{ marginTop: \"10px\" }}>\r\n                            {item.comment.length != 0 ? new Date(item.comment[0].created).toDateString() : new Date(item.created).toDateString()}\r\n                        </p>\r\n                        {item.comment.length != 0 ? new Date(item.comment[0].created).toLocaleTimeString() : new Date(item.created).toLocaleTimeString()}\r\n                        <br />\r\n                    </small>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    //console.log(spaceId);\r\n    const toPages = (name) => {\r\n        getPostByPage(name).then(res => {\r\n            setPostData(res.data.data)\r\n            setCurrent(res.data.current)\r\n            if(Number(name) == listPages[2] && Number(name) != res.data.pages){\r\n                let i = Number(name)\r\n                let max = i + 2\r\n                let arrPages = []\r\n                for (i; i <= max && i <= res.data.pages; i++) {\r\n                    arrPages.push(i)\r\n                }\r\n                setListPages(arrPages)\r\n            }\r\n           \r\n        })\r\n        console.log(listPages);\r\n    }\r\n\r\n    const toPagesF = (name) => {\r\n        getPostByPage(name).then(res => {\r\n            setPostData(res.data.data)\r\n            setCurrent(res.data.current)\r\n            if (Number(name) == listPages[0] || Number(name) < listPages[0]) {\r\n                let i = listPages[0] - 2\r\n                let max = listPages[0]\r\n                let arrPages = []\r\n                for (i; i <= max && i <= res.data.pages; i++) {\r\n                    arrPages.push(i)\r\n                }\r\n                setListPages(arrPages)\r\n            }\r\n        })\r\n    }\r\n\r\n    const renderPage = (item, index) => {\r\n\r\n        return (\r\n            <div class={current == item ? \"pagination:number isPages\" : \"pagination:number\"} onClick={()=>{toPages(item)}}>\r\n                    {item}\r\n                </div>)\r\n\r\n\r\n    }\r\n    //useEffect(()=>{\r\n      //  if(!term){\r\n        //    setResult(postData)\r\n        //}else{\r\n          //  setResult(postData.filter(searchPost))\r\n        //}\r\n    //},[term,postData])\r\n\r\n    const showPost = () => {\r\n        let a = checkShow ? false : true\r\n        console.log(a);\r\n        setCheckShow(a)\r\n    }\r\n\r\n    const dismissPost = () => {\r\n        setCheckShow(false)\r\n    }\r\n\r\n    return (\r\n        <div class=\"container\">\r\n           <Header />\r\n\r\n            <div class=\"search-box\">\r\n                <div>\r\n                    <select name=\"\" id=\"\" onChange={handleChangeSearchValue}>\r\n                        <option value=\"everything\">Everything</option>\r\n                        <option value=\"titles\" >Titles</option>\r\n                        <option value=\"author\" >Author</option>\r\n                    </select>\r\n                    <input type=\"text\" name=\"\" id=\"\" class={searchValue == 'everything'?\"offSearch\":\"\"} placeholder=\"Search ...\" onChange={handleChangeTerm} />\r\n                    <button onClick={searchValue == 'titles' ? searchPostByTitle : searchPostByAuthor}><i class=\"fa fa-search\"></i></button>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"post-button\">\r\n                <button onClick={showPost}>Post something</button>\r\n            </div>\r\n            \r\n            <div class={checkShow ? \"post-area b-block\": 'b-none'} id=\"post-area\">\r\n                <div class=\"post-wrapper\">\r\n                    <div class=\"post-title\">\r\n                        <h3>Title:</h3>\r\n                        <input type=\"text\" onChange={handleChangeTitle} placeholder=\"Title ...\"/>\r\n                </div>\r\n\r\n                        <div class=\"post-description\">\r\n                            <h3>Description:</h3>\r\n                        <input type=\"text\" onChange={handleChangeDescribed} placeholder=\"Description ...\"/>\r\n                </div>\r\n\r\n                            <div class=\"post-space\">\r\n                                <h3>Space:</h3>\r\n                        <select value={spaceId} onChange={handleChangeSpaceId} id=\"\">\r\n                                    <option value=\"everything\">Everything</option>\r\n                            {space?.map((item, index) => {\r\n                                return <option key={index} value={item._id}>{item.name}</option>\r\n                            })}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div class=\"post-file\">\r\n                        <input type='file' onChange={handleChangeFile} />\r\n                            </div>\r\n\r\n                            <div class=\"post-submit\">\r\n                        <input type=\"button\" name=\"\" id=\"\" value=\"submit\" onClick={submitBtn}/>\r\n                                    <button class=\"post-dismiss\" onclick={dismissPost}>Dismiss</button>\r\n                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n            <main>\r\n                <div class=\"main-container\">\r\n                    <div class=\"list-container\">\r\n                        <div class=\"list-title\">\r\n                            <h1>Space:</h1>\r\n                        </div>\r\n\r\n                        <div class=\"list-content\">\r\n                            {space.map(renderSpace)}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"post-container\">\r\n                        <div class=\"subforum\">\r\n                            <div class=\"subforum-title\">\r\n                                <h1>HOT Information</h1>\r\n                            </div>\r\n\r\n                            <div class=\"subforum-row\">\r\n                                <div class=\"subforum-icon subforum-column center\">\r\n                                    <i class=\"fa fa-car\"></i>\r\n                                </div>\r\n\r\n                                <div class=\"subforum-description subforum-column\">\r\n                                    <h1><a href=\"#\"><Link to={'/post/'+postTop?._id}>{postTop?.title}</Link></a></h1>\r\n                                    <h2>Description content:</h2>\r\n                                    <p>{postTop?.described}</p>\r\n                                </div>\r\n\r\n                                <div class=\"subforum-stats subforum-column center\">\r\n                                    <span>{postTop?.like?.length} Like | {postTop?.comment?.length} Comment</span>\r\n                                </div>\r\n\r\n                                <div class=\"subforum-info subforum-column\">\r\n                                    <b><a href=\"\">Last Post</a></b> by <a href=\"\">{postTop?.comment ? postTop?.comment[0]?.author?.name : postTop?.author?.name} </a>\r\n\r\n                                    on\r\n                                    <small >\r\n                                        <p style={{ marginTop: \"10px\" }}>\r\n                                            {postTop?.comment? new Date(postTop?.comment[0]?.created).toDateString() : new Date(postTop?.created).toDateString()}\r\n                                        </p>\r\n                                        {postTop?.comment ? new Date(postTop?.comment[0]?.created).toLocaleTimeString() : new Date(postTop?.created).toLocaleTimeString()}\r\n                                        <br />\r\n                                    </small>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n\r\n                        <div class=\"subforum\">\r\n\r\n                            <div class=\"subforum-title\">\r\n                                <h1>General Information</h1>\r\n                            </div>\r\n                            \r\n                            \r\n                            <hr class=\"subforum-devider\" />\r\n                            {postData?.map(renderPost)}\r\n                        </div>\r\n\r\n\r\n                    \r\n                            <div class={Number(pages) > 0 ? \"pagination:container\" : \"disableOff\"}>\r\n                            <div class={current != 1 && current > 2 ? \"pagination:number arrow\" : \"pagination:number arrow disableOff\"} onClick={() => { toPagesF(Number(current) - 1) }}>\r\n                                    <svg width=\"18\" height=\"18\">\r\n                                        <use href=\"#left\" />\r\n                                    </svg>\r\n                                     <span class=\"arrow:text\">First</span>\r\n\r\n                                </div>\r\n                                <div class={current > 2 ? \"pagination:number\" : \"pagination:number disableOff\"}>\r\n                                    ...\r\n                                </div>\r\n                                {listPages.map(renderPage)}\r\n                                <div class={current < pages - 2 ? \"pagination:number\" : \"pagination:number disableOff\"}>\r\n                                    ...\r\n                                </div>\r\n                            <div class={current != pages && pages > 3 ? \"pagination:number arrow\" : \"pagination:number arrow disableOff\"} onClick={() => { toPages(Number(current) + 1) }} >\r\n                                    <span class=\"arrow:text\">Last</span>\r\n                                    <svg width=\"18\" height=\"18\">\r\n                                        <use href=\"#right\" />\r\n                                    </svg>\r\n                                </div>\r\n                            </div>\r\n\r\n                    \r\n                        \r\n                        <svg class=\"hide\">\r\n                            <symbol id=\"left\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"></path></symbol>\r\n                            <symbol id=\"right\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\"></path></symbol>\r\n                        </svg>\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n        <Footer />\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n","import React from 'react';\r\nimport '../css/footer.css'\r\n\r\nclass Footer extends React.Component {\r\n    \r\n    render() {\r\n        return (\r\n            <footer>\r\n                <div class=\"main-content\" id=\"section@\" >\r\n                    <div class=\"left box-home\">\r\n                        <h2>What is TIE?</h2>\r\n                        <div class=\"content\">\r\n                            <p>TIE - Tech It Easy is forum which was created for technicians, tech-lovers and answers for every technical problems, questions in real life. </p>\r\n                            <div class=\"social\">\r\n                                <a href=\"\"><span class=\"fab fa-facebook-f\" ></span></a>\r\n                                <a href=\"\"><span class=\"fab fa-twitter\" ></span></a>\r\n                                <a href=\"\"><span class=\"fab fa-instagram\" ></span></a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"center box-home\">\r\n                        <h2>Address</h2>\r\n                        <div class=\"content\">\r\n                            <div class=\"place\">\r\n                                <span class=\"fas fa-map-marker-alt\"></span>\r\n                                <span class=\"text\">22 Thành Công, Hà Nội, Việt Nam</span>\r\n                            </div>\r\n                            <div class=\"phone\">\r\n                                <span class=\"fas fa-phone-alt\"></span>\r\n                                <span class=\"text\">+84-918802002</span>\r\n                            </div>\r\n                            <div class=\"email\">\r\n                                <span class=\"fas fa-envelope\"></span>\r\n                                <span class=\"text\">techiteasy.mindx@gmail.com</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"right box-home\">\r\n                        <h2>Feedback</h2>\r\n                        <div class=\"content\">\r\n                            <form action=\"#\">\r\n                                <div class=\"email\">\r\n                                    <div class=\"text\">Email *</div>\r\n                                    <input type=\"email\" required />\r\n                                </div>\r\n                                <div class=\"msg\">\r\n                                    <div class=\"text\">Message *</div>\r\n                                    <textarea cols=\"25\" rows=\"2.5\" required></textarea>\r\n                                </div>\r\n                                <div class=\"btn-home\">\r\n                                    <button type=\"submit\">Send</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"bottom\">\r\n                    <center>\r\n                        <span class=\"credit\">Created By <a href=\"../index.html\">Tech It Easy</a> | </span>\r\n                        <span class=\"far fa-copyright\"></span><span> 2021 All rights reserved.</span>\r\n                    </center>\r\n                </div>\r\n            </footer>\r\n\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\n\r\nexport default function Header() {\r\n    let history = useHistory()\r\n    const logoutBtn = () => {\r\n        localStorage.clear();\r\n        window.location.reload()\r\n\r\n    }\r\n    \r\n    return (\r\n        <header>\r\n            <a href=\"/main\"><img src=\"/assets/images/Logo.png\" class=\"logo\" alt=\"Logo\" /></a>\r\n            <div class=\"menu\">\r\n                <input type=\"checkbox\" id=\"check\" />\r\n                <label for=\"check\" class=\"check-btn\">\r\n                    <i class=\"fa fa-bars\"></i>\r\n                </label>\r\n                <ul>\r\n                    <li><a href=\"./admin\">Admin</a></li>\r\n                    <li><a href=\"/userprofile\">Account</a></li>\r\n                    <li><a href=\"#section@\">Feedback</a></li>\r\n                    <li><a onClick={logoutBtn}>Sign Out</a></li>\r\n                </ul>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n    \r\n"],"sourceRoot":""}